<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Home</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />
  <link href="/css/main.min.css" rel="stylesheet">
  <style>
    /* Custom Colors & Classes */
    .navbar.bg-primary {
      background: rgba(255, 255, 255, 0.2) !important;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .navbar a {
      color: var(--bs-primary) !important;
    }
    
    /* General animations and hover effects */
    .tales1 {
      width: 100%;
      height: 400px;
      transition: transform 0.5s ease-in-out;
    }
    .details {
      animation: fadeIn 1.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .btn {
      background-color: #351720;
      color: white;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .btn:hover {
      background-color: #a09f5a !important;
      color: white !important;
      transform: scale(1.1);
    }
    .tales1:hover { transform: scale(1.05); }
    .plan-image {
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .plan-image:hover { transform: scale(1.05); }
    .hidden { display: none; }
    
    /* Plan section animations */
    .plan-section {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 50px;
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 1s ease, transform 1s ease;
    }
    .plan-section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .plan-section:nth-child(odd) .plan-image { order: 1; }
    .plan-section:nth-child(odd) .plan-cards { order: 2; }
    .plan-section:nth-child(even) .plan-image { order: 2; }
    .plan-section:nth-child(even) .plan-cards { order: 1; }
    .plan-cards {
      flex: 1;
      margin: 0 20px;
      opacity: 0;
      transform: translateX(-100%);
      transition: opacity 1s ease, transform 1s ease;
    }
    .plan-section.visible .plan-cards {
      opacity: 1;
      transform: translateX(0);
    }
    
    /* Inline Category Filter Bar */
    #categoryFilter .filter-btn { margin: 0 5px; }
    
    /* Sort & Adjustable Filter Bar */
    #sortFilter {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 1rem 0;
    }
    #sortControls .form-select,
    #sortControls .btn { margin-right: 5px; }
    #adjustableFilter .form-range, 
    #adjustableFilter label,
    #adjustableFilter .btn { margin-right: 5px; }
    #adjustableFilter label { white-space: nowrap; }
    
    /* Carousel Card Styles */
    .carousel-item .card {
      border: 2px solid #fff;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: transform 0.5s ease;
    }
    .carousel-item .card:hover { transform: scale(1.05); }
    
    /* Animated Border Effect Using a Pseudo-Element with Pulsating Animation */
    .card {
      position: relative;
      z-index: 0;
      border: 4px solid transparent; /* Remove default border */
      border-radius: 15px;
    }
    .card::before {
      content: "";
      position: absolute;
      top: -4px; left: -4px; right: -4px; bottom: -4px;
      background: linear-gradient(45deg, #a5b873, #e0ecaf, #e2cad1);
      background-size: 400% 400%;
      border-radius: inherit;
      z-index: -1;
      animation: borderPulse 2s ease-in-out infinite;
    }
    @keyframes borderPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-custom fixed-top">
    <a href="/ProjectSample/validNumber.html">
      <i class="bi bi-arrow-left fs-4 text-light"></i>
    </a>
    <div class="container-fluid">
      <a class="navbar-brand text-light" href="#me">
        <img src="/images/Logo4.png" alt="logo" class="rounded-circle" style="width: 50px;" />
        Mobi-Comm Service Ltd
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
              data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" 
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active text-light" aria-current="page" href="#bp">Exclusive Plans</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link active dropdown-toggle text-light" href="#" id="navbarDropdown" 
               role="button" data-bs-toggle="dropdown" aria-expanded="false">View Plans</a>
            <ul class="dropdown-menu bg-secondary" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item text-primary" href="#pplan"><b>Popular Plans</b></a></li>
              <li><a class="dropdown-item text-primary" href="#vplan"><b>Validity Plans</b></a></li>
              <li><a class="dropdown-item text-primary" href="#dplan"><b>Data Plans</b></a></li>
              <li><a class="dropdown-item text-primary" href="#uplan"><b>Unlimited Plans</b></a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link active text-light" href="/ProjectSample/Login.html">Login</a>
          </li>
          <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search Plans" aria-label="Search" />
            <button class="btn btn-outline-warning" type="submit">Search</button>
          </form>
        </ul>
      </div>
    </div>
  </nav>
  <br /><br /><br /><br />
  
  <!-- Banner Section -->
  <div class="container-fluid position-relative">
    <div class="row">
      <div class="col-lg-6 mx-auto text-center">
        <img src="/images/mobi-comm1.jpg" class="tales1 rounded img-fluid" alt="Banner" />
        <div class="position-absolute top-50 start-50 translate-middle text-center">
          <div class="details rounded">
            <h1 class="display-6 text-light">Welcome to Mobi-Comm</h1>
            <p class="display-9 text-primary bg-info p-2 rounded">
              Recharge and choose plans of your choice... Get connected with your loved ones.
            </p>
            <a href="#bp" class="btn bg-dark text-primary btn-md mt-3">Explore Plans</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br /><br />
  
  <!-- Carousel Section: You Might Also Like -->
  <h3 class="text-center text-primary">You might also like!!</h3>
  <div class="container me-5 mt-5">
    <div id="carouselExampleIndicators" class="carousel slide carousel-fade" data-bs-ride="carousel" style="border-radius: 15px; overflow:hidden">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col" style="max-width: 500px;">
              <div class="card custom-card">
                <div class="card-body">
                  <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Popular Plan</h6>
                  <br />
                  <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.2999</h4>
                  <hr />
                  <p><strong>Data:</strong> 2.5 GB/Day</p>
                  <p><strong>Validity:</strong> 365 Days</p>
                  <div class="d-flex justify-content-between">
                    <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.2999 Plan" data-details="2.5 GB/Day | 365 Days">Recharge</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col" style="max-width: 500px;">
              <div class="card custom-card">
                <div class="card-body">
                  <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Popular Plan</h6>
                  <br />
                  <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.2999</h4>
                  <hr />
                  <p><strong>Data:</strong> 2.5 GB/Day</p>
                  <p><strong>Validity:</strong> 365 Days</p>
                  <div class="d-flex justify-content-between">
                    <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.2999 Plan" data-details="2.5 GB/Day | 365 Days">Recharge</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col" style="max-width: 500px;">
              <div class="card custom-card">
                <div class="card-body">
                  <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Unlimited Plan</h6>
                  <br />
                  <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.199</h4>
                  <hr />
                  <p><strong>Data:</strong> 1GB/Day</p>
                  <p><strong>Validity:</strong> 28 Days</p>
                  <div class="d-flex justify-content-between">
                    <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.199 Plan" data-details="1GB/Day | 28 Days">Recharge</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col" style="max-width: 500px;">
              <div class="card custom-card">
                <div class="card-body">
                  <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Unlimited Plan</h6>
                  <br />
                  <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.299</h4>
                  <hr />
                  <p><strong>Data:</strong> 1GB/Day</p>
                  <p><strong>Validity:</strong> 42 Days</p>
                  <div class="d-flex justify-content-between">
                    <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.299 Plan" data-details="1GB/Day | 42 Days">Recharge</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="row row-cols-1 row-cols-md-2 g-4">
            <div class="col" style="max-width: 500px;">
              <div class="card custom-card">
                <div class="card-body">
                  <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Data Plan</h6>
                  <br />
                  <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.399</h4>
                  <hr />
                  <p><strong>Data:</strong> 1GB/Day</p>
                  <p><strong>Validity:</strong> 56 Days</p>
                  <div class="d-flex justify-content-between">
                    <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.399 Plan" data-details="1GB/Day | 56 Days">Recharge</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col" style="max-width: 500px;">
              <div class="card custom-card">
                <div class="card-body">
                  <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Data Plan</h6>
                  <br />
                  <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.499</h4>
                  <hr />
                  <p><strong>Data:</strong> 2GB/Day</p>
                  <p><strong>Validity:</strong> 56 Days</p>
                  <div class="d-flex justify-content-between">
                    <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.499 Plan" data-details="2GB/Day | 56 Days">Recharge</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <br />
  </div>
  <hr /><br />
  
  <!-- Inline Category Filter Bar -->
  <div id="categoryFilter" class="d-flex justify-content-center my-3">
    <button class="btn btn-outline-primary mx-2 filter-btn" data-category="all">All</button>
    <button class="btn btn-outline-primary mx-2 filter-btn" data-category="exclusive">Exclusive</button>
    <button class="btn btn-outline-primary mx-2 filter-btn" data-category="popular">Popular</button>
    <button class="btn btn-outline-primary mx-2 filter-btn" data-category="data">Data</button>
    <button class="btn btn-outline-primary mx-2 filter-btn" data-category="validity">Validity</button>
    <button class="btn btn-outline-primary mx-2 filter-btn" data-category="unlimited">Unlimited</button>
  </div>
  
  <!-- Sort & Adjustable Filter Bar -->
  <div id="sortFilter" class="d-flex justify-content-between align-items-center my-3">
    <div id="sortControls" class="d-flex align-items-center">
      <select id="sortCriteria" class="form-select me-2">
        <option value="price">Price</option>
        <option value="validity">Validity</option>
      </select>
      <select id="sortOrder" class="form-select me-2">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
      </select>
      <button id="sortButton" class="btn btn-outline-primary">Sort</button>
    </div>
    <div id="adjustableFilter" class="d-flex align-items-center">
      <label for="priceRange" class="me-2">Price: <span id="priceValue">700</span></label>
      <input type="range" id="priceRange" min="0" max="700" value="700" class="form-range me-3" style="width: 150px;">
      <label for="validityRange" class="me-2">Validity: <span id="validityValue">100</span></label>
      <input type="range" id="validityRange" min="0" max="100" value="100" class="form-range me-3" style="width: 150px;">
      <button id="applyFilterButton" class="btn btn-outline-primary">Apply Filter</button>
    </div>
  </div>
  <br /><br>
  <!-- Exclusive Plans Section (Static as JSON does not provide these) -->
  <h3 class="text-primary text-center" id="bp">Exclusive Plans!!</h3>
  <br /><br />
  <div class="plan-section" data-category="exclusive">
    <div class="plan-image">
      <img src="/images/eplan.jpg" alt="Exclusive Plans" class="img-fluid" style="width: 300px;" />
    </div>
    <div class="plan-cards">
      <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-center pb-3">
        <div class="col">
          <div class="card custom-card" data-price="199" data-validity="28">
            <div class="card-body">
              <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Exclusive Plans!!</h6>
              <br />
              <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.199</h4>
              <hr />
              <p><strong>Data:</strong> 1GB/Day</p>
              <p><strong>Validity:</strong> 28 Days</p>
              <div class="d-flex justify-content-between">
                <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.199 Plan" data-details="1GB/Day | 28 Days" data-price="199" data-validity="28">Recharge</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card custom-card" data-price="299" data-validity="42">
            <div class="card-body">
              <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Exclusive Plans!!</h6>
              <br />
              <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.299</h4>
              <hr />
              <p><strong>Data:</strong> 1GB/Day</p>
              <p><strong>Validity:</strong> 42 Days</p>
              <div class="d-flex justify-content-between">
                <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.299 Plan" data-details="1GB/Day | 42 Days" data-price="299" data-validity="42">Recharge</button>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card custom-card" data-price="299" data-validity="42">
            <div class="card-body">
              <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Exclusive Plans!!</h6>
              <br />
              <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">Rs.299</h4>
              <hr />
              <p><strong>Data:</strong> 1GB/Day</p>
              <p><strong>Validity:</strong> 42 Days</p>
              <div class="d-flex justify-content-between">
                <button class="btn btn-sm btn-primary Recharge-btn" data-name="Rs.299 Plan" data-details="1GB/Day | 42 Days" data-price="299" data-validity="42">Recharge</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Popular Plans Section (Populated Dynamically) -->
  <h3 class="text-primary text-center" id="pplan">Popular Plans</h3>
  <br /><br />
  <div class="plan-section" data-category="popular">
    <div class="plan-image">
      <img src="/images/pplan.jpg" alt="Popular Plans" class="img-fluid" style="width: 300px;" />
    </div>
    <div class="plan-cards">
      <div id="popularPlansContainer" class="row row-cols-1 row-cols-md-3 g-4 justify-content-center pb-3"></div>
    </div>
  </div>
  
  <!-- Data Plans Section (Populated Dynamically) -->
  <h3 class="text-primary text-center" id="dplan">Data Plans</h3>
  <br /><br />
  <div class="plan-section" data-category="data">
    <div class="plan-image">
      <img src="/images/dplan.jpg" alt="Data Plans" class="img-fluid" style="width: 300px;" />
    </div>
    <div class="plan-cards">
      <div id="dataPlansContainer" class="row row-cols-1 row-cols-md-3 g-4 justify-content-center pb-3"></div>
    </div>
  </div>
  
  <!-- Validity Plans Section (Populated Dynamically) -->
  <h3 class="text-primary text-center" id="vplan">Validity Plans</h3>
  <br /><br />
  <div class="plan-section" data-category="validity">
    <div class="plan-image">
      <img src="/images/vplan.jpg" alt="Validity Plans" class="img-fluid" style="width: 300px;" />
    </div>
    <div class="plan-cards">
      <div id="validityPlansContainer" class="row row-cols-1 row-cols-md-3 g-4 justify-content-center pb-3"></div>
    </div>
  </div>
  
  <!-- Unlimited Plans Section (Populated Dynamically) -->
  <h3 class="text-primary text-center" id="uplan">Unlimited Plans</h3>
  <br /><br />
  <div class="plan-section" data-category="unlimited">
    <div class="plan-image">
      <img src="/images/uplan.jpg" alt="Unlimited Plans" class="img-fluid" style="width: 300px;" />
    </div>
    <div class="plan-cards">
      <div id="unlimitedPlansContainer" class="row row-cols-1 row-cols-md-3 g-4 justify-content-center pb-3"></div>
    </div>
  </div>
  <br /><br /><hr /><br /><br />
  <footer>
    <div class="footer-top justify-content-center">
      <div class="content-container ps-5 pt-0">
        <div class="row">
          <div class="col-md-4">
            <h5>Mobi-Comm Service Pvt Ltd</h5>
            <p>Connecting People, Anytime, Anywhere.</p>
          </div>
          <div class="col-md-4">
            <h5>Quick Links</h5>
            <ul>
              <li><a href="#about">About Us</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms & Conditions</a></li>
              <li><a href="#">Refund Policy</a></li>
            </ul>
          </div>
          <div class="col-md-4">
            <h5>Connect With Us</h5>
            <p>Follow us on social media for the latest updates.</p>
            <a href="#" class="me-2 text-white"><i class="bi bi-facebook"></i></a>
            <a href="#" class="me-2 text-white"><i class="bi bi-twitter"></i></a>
            <a href="#" class="me-2 text-white"><i class="bi bi-instagram"></i></a>
            <a href="#" class="text-white"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="content-container">
        <p class="mb-0">&copy; 2025 Mobi-Comm Service Pvt Ltd. All Rights Reserved.</p>
      </div>
    </div>
  </footer>
  
  <!-- Bootstrap Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- JavaScript: Load JSON, Sort, Adjustable Filter, Category Filter, and Recharge Handling -->
  <script>
    // Helper functions to extract numeric values from plan details
    function extractPrice(name) {
      return parseInt(name.replace(/[^\d]/g, ""));
    }
    function extractValidity(details) {
      const parts = details.split("|");
      for (let part of parts) {
        if (part.toLowerCase().includes("day")) {
          const match = part.match(/\d+/);
          if (match) return parseInt(match[0]);
        }
      }
      return 0;
    }
    
    // Populate plan sections from plans.json
    function populatePlans() {
      fetch("plans.json")
        .then(response => response.json())
        .then(data => {
          // Populate Popular Plans
          let popularHTML = "";
          data["Popular Plans"].forEach(plan => {
            const price = extractPrice(plan.name);
            const validity = extractValidity(plan.details);
            popularHTML += `
              <div class="col">
                <div class="card custom-card" data-price="${price}" data-validity="${validity}">
                  <div class="card-body">
                    <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Popular Plan</h6>
                    <br />
                    <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">${plan.name}</h4>
                    <hr />
                    <p><strong>Details:</strong> ${plan.details}</p>
                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-primary Recharge-btn" data-name="${plan.name}" data-details="${plan.details}" data-price="${price}" data-validity="${validity}">Recharge</button>
                    </div>
                  </div>
                </div>
              </div>`;
          });
          document.getElementById("popularPlansContainer").innerHTML = popularHTML;
          
          // Populate Validity Plans
          let validityHTML = "";
          data["Validity Plans"].forEach(plan => {
            const price = extractPrice(plan.name);
            const validity = extractValidity(plan.details);
            validityHTML += `
              <div class="col">
                <div class="card custom-card" data-price="${price}" data-validity="${validity}">
                  <div class="card-body">
                    <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Validity Plan</h6>
                    <br />
                    <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">${plan.name}</h4>
                    <hr />
                    <p><strong>Details:</strong> ${plan.details}</p>
                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-primary Recharge-btn" data-name="${plan.name}" data-details="${plan.details}" data-price="${price}" data-validity="${validity}">Recharge</button>
                    </div>
                  </div>
                </div>
              </div>`;
          });
          document.getElementById("validityPlansContainer").innerHTML = validityHTML;
          
          // Populate Unlimited Plans
          let unlimitedHTML = "";
          data["Unlimited Plans"].forEach(plan => {
            const price = extractPrice(plan.name);
            const validity = extractValidity(plan.details);
            unlimitedHTML += `
              <div class="col">
                <div class="card custom-card" data-price="${price}" data-validity="${validity}">
                  <div class="card-body">
                    <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Unlimited Plan</h6>
                    <br />
                    <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">${plan.name}</h4>
                    <hr />
                    <p><strong>Details:</strong> ${plan.details}</p>
                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-primary Recharge-btn" data-name="${plan.name}" data-details="${plan.details}" data-price="${price}" data-validity="${validity}">Recharge</button>
                    </div>
                  </div>
                </div>
              </div>`;
          });
          document.getElementById("unlimitedPlansContainer").innerHTML = unlimitedHTML;
          
          // Populate Data Plans
          let dataHTML = "";
          data["Data Plans"].forEach(plan => {
            const price = extractPrice(plan.name);
            const validity = extractValidity(plan.details);
            dataHTML += `
              <div class="col">
                <div class="card custom-card" data-price="${price}" data-validity="${validity}">
                  <div class="card-body">
                    <h6 class="card-title text-black bg-secondary border rounded p-0 d-inline-block">Data Plan</h6>
                    <br />
                    <h4 class="card-title fw-bold text-primary bg-info border rounded p-2 d-inline-block">${plan.name}</h4>
                    <hr />
                    <p><strong>Details:</strong> ${plan.details}</p>
                    <div class="d-flex justify-content-between">
                      <button class="btn btn-sm btn-primary Recharge-btn" data-name="${plan.name}" data-details="${plan.details}" data-price="${price}" data-validity="${validity}">Recharge</button>
                    </div>
                  </div>
                </div>
              </div>`;
          });
          document.getElementById("dataPlansContainer").innerHTML = dataHTML;
        });
    }
    
    document.addEventListener("DOMContentLoaded", function () {
      // Populate plans from JSON
      populatePlans();
      
      // Intersection Observer for scroll animations
      const planSections = document.querySelectorAll(".plan-section");
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) entry.target.classList.add("visible");
          });
        },
        { threshold: 0.1 }
      );
      planSections.forEach(section => observer.observe(section));
      
      // Category Filter functionality
      const filterButtons = document.querySelectorAll(".filter-btn");
      filterButtons.forEach(button => {
        button.addEventListener("click", function () {
          const selectedCategory = this.getAttribute("data-category");
          planSections.forEach(section => {
            section.style.display = (selectedCategory === "all" || section.getAttribute("data-category") === selectedCategory)
              ? "flex" : "none";
          });
        });
      });
      
      // Sort functionality for card-based sections
      const sortButton = document.getElementById("sortButton");
      sortButton.addEventListener("click", function() {
        const criteria = document.getElementById("sortCriteria").value;
        const order = document.getElementById("sortOrder").value;
        const containers = document.querySelectorAll(".plan-cards .row");
        containers.forEach(row => {
          const cols = Array.from(row.children);
          cols.sort((a, b) => {
            const cardA = a.querySelector(".card");
            const cardB = b.querySelector(".card");
            const valueA = parseInt(cardA.getAttribute("data-" + criteria));
            const valueB = parseInt(cardB.getAttribute("data-" + criteria));
            return order === "asc" ? valueA - valueB : valueB - valueA;
          });
          row.innerHTML = "";
          cols.forEach(col => row.appendChild(col));
        });
      });
      
      // Adjustable Filter functionality
      const priceRange = document.getElementById("priceRange");
      const validityRange = document.getElementById("validityRange");
      const priceValue = document.getElementById("priceValue");
      const validityValue = document.getElementById("validityValue");
      priceRange.addEventListener("input", () => { priceValue.textContent = priceRange.value; });
      validityRange.addEventListener("input", () => { validityValue.textContent = validityRange.value; });
      document.getElementById("applyFilterButton").addEventListener("click", function() {
        const maxPrice = parseInt(priceRange.value);
        const maxValidity = parseInt(validityRange.value);
        document.querySelectorAll(".plan-cards .card").forEach(card => {
          const cardPrice = parseInt(card.getAttribute("data-price"));
          const cardValidity = parseInt(card.getAttribute("data-validity"));
          card.parentElement.style.display = (cardPrice <= maxPrice && cardValidity <= maxValidity) ? "" : "none";
        });
      });
      
      // Handle Recharge button clicks – store selected plan details and navigate to payment page.
      document.querySelectorAll(".Recharge-btn").forEach(button => {
        button.addEventListener("click", function () {
          const selectedPlan = {
            name: this.getAttribute("data-name") || "Default Plan",
            details: this.getAttribute("data-details") || "",
            price: this.getAttribute("data-price") || "",
            validity: this.getAttribute("data-validity") || ""
          };
          // Also assume validNumber.html stored the validated user's phone number in localStorage as "userPhoneNumber"
          localStorage.setItem("selectedPlan", JSON.stringify(selectedPlan));
          window.location.href = "payment.html";
        });
      });
    });
  </script>
</body>
</html>
